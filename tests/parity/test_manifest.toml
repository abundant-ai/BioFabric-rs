# Parity Test Manifest
#
# Each [[test]] entry defines one parity test case. Golden files are generated
# by running BioFabric (Java) headlessly via Docker and stored under
# tests/parity/goldens/<golden_dir>/. The Rust tests load the same input,
# run the same algorithm, and diff the output byte-for-byte.
#
# Outputs compared:
#   output.noa  - node order (nodeName = row)
#   output.eda  - link order (linkString = column)
#   output.bif  - full session XML
#
# Fields:
#   id          - Unique test identifier (used as Rust test name)
#   description - Human-readable description
#   input       - Filename in networks/sif/ or networks/gw/
#   golden_dir  - Directory name under goldens/ containing reference outputs
#   layout      - Layout algorithm: "default" (more later)
#   shadows     - Whether shadow links are enabled
#   compare     - List of output files to compare: ["noa", "eda", "bif"]
#   tags        - Optional tags for filtering
#
# Link grouping fields (optional):
#   link_groups - List of relation names defining group order
#   group_mode  - "per_node" or "per_network"

# ==========================================================================
#
#  PHASE 1: Default layout, shadows ON  (baseline)
#
# ==========================================================================

# ---------- SIF edge cases ----------

[[test]]
id = "sif_single_node"
description = "Single isolated node — minimal network, no edges"
input = "single_node.sif"
golden_dir = "single_node_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p1"]

[[test]]
id = "sif_single_edge"
description = "Two nodes, one edge — minimal connected network"
input = "single_edge.sif"
golden_dir = "single_edge_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p1"]

[[test]]
id = "sif_triangle"
description = "Triangle (3 nodes, 3 edges) — simplest cycle"
input = "triangle.sif"
golden_dir = "triangle_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p1"]

[[test]]
id = "sif_self_loop"
description = "Self-loop (feedback edge, no shadow for A→A)"
input = "self_loop.sif"
golden_dir = "self_loop_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p1"]

[[test]]
id = "sif_isolated_nodes"
description = "Connected nodes plus 3 isolated nodes appended at end"
input = "isolated_nodes.sif"
golden_dir = "isolated_nodes_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p1"]

[[test]]
id = "sif_disconnected_components"
description = "4 disconnected components of varying size"
input = "disconnected_components.sif"
golden_dir = "disconnected_components_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p1"]

[[test]]
id = "sif_multi_relation"
description = "Multiple relation types (pp, pd, gi)"
input = "multi_relation.sif"
golden_dir = "multi_relation_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p1"]

[[test]]
id = "sif_dense_clique"
description = "Complete graph K6 (6 nodes, 15 edges) — dense all-to-all connectivity"
input = "dense_clique.sif"
golden_dir = "dense_clique_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p1"]

[[test]]
id = "sif_linear_chain"
description = "Linear chain (10 nodes, 9 edges) — path graph, degree-2 tie-breaking"
input = "linear_chain.sif"
golden_dir = "linear_chain_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p1"]

# ---------- SIF stress tests ----------

[[test]]
id = "sif_star500"
description = "Star graph with 500 leaves (BioFabric sample)"
input = "star-500.sif"
golden_dir = "star-500_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "stress", "p1"]

[[test]]
id = "sif_ba2k"
description = "Barabasi-Albert 2K network (BioFabric sample, ~12K edges)"
input = "ba2K.sif"
golden_dir = "ba2K_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "stress", "p1"]

[[test]]
id = "sif_bind_human"
description = "BINDhuman protein interaction network from Cytoscape (~38K edges)"
input = "BINDhuman.sif"
golden_dir = "BINDhuman_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "stress", "p1"]

# ---------- GW edge cases ----------

[[test]]
id = "gw_triangle"
description = "Triangle in LEDA/GW format (undirected, default relation)"
input = "triangle.gw"
golden_dir = "triangle_gw_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["gw", "edge_case", "p1"]

[[test]]
id = "gw_directed_tri"
description = "Directed triangle in LEDA/GW format with named relations"
input = "directed_triangle.gw"
golden_dir = "directed_triangle_gw_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["gw", "edge_case", "p1"]

# ---------- GW stress tests ----------

[[test]]
id = "gw_rnorvegicus"
description = "R. norvegicus PPI network (~4K lines, small)"
input = "RNorvegicus.gw"
golden_dir = "RNorvegicus_gw_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["gw", "stress", "p1"]

[[test]]
id = "gw_celegans"
description = "C. elegans PPI network (~8.5K lines, medium)"
input = "CElegans.gw"
golden_dir = "CElegans_gw_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["gw", "stress", "p1"]

[[test]]
id = "gw_yeast"
description = "Yeast PPI network (~18K lines, large)"
input = "yeast.gw"
golden_dir = "yeast_gw_default"
layout = "default"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["gw", "stress", "p1"]

# ==========================================================================
#
#  PHASE 2: Default layout, shadows OFF
#
#  Same networks, but with shadow links disabled after initial layout.
#  Validates SHADOW_LINK_CHANGE rebuild path. Node order (NOA) should be
#  identical to Phase 1; edge order (EDA) and session XML (BIF) differ.
#
# ==========================================================================

# ---------- SIF edge cases (no shadows) ----------

[[test]]
id = "sif_single_node_noshadow"
description = "Single node, shadows OFF — trivially identical to shadows ON"
input = "single_node.sif"
golden_dir = "single_node_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p2", "noshadow"]

[[test]]
id = "sif_single_edge_noshadow"
description = "Two nodes one edge, shadows OFF — 1 column instead of 2"
input = "single_edge.sif"
golden_dir = "single_edge_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p2", "noshadow"]

[[test]]
id = "sif_triangle_noshadow"
description = "Triangle shadows OFF — 3 edges, no shadow columns"
input = "triangle.sif"
golden_dir = "triangle_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p2", "noshadow"]

[[test]]
id = "sif_self_loop_noshadow"
description = "Self-loop shadows OFF — self-loop has no shadow regardless"
input = "self_loop.sif"
golden_dir = "self_loop_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p2", "noshadow"]

[[test]]
id = "sif_isolated_nodes_noshadow"
description = "Isolated nodes, shadows OFF"
input = "isolated_nodes.sif"
golden_dir = "isolated_nodes_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p2", "noshadow"]

[[test]]
id = "sif_disconnected_components_noshadow"
description = "Disconnected components, shadows OFF"
input = "disconnected_components.sif"
golden_dir = "disconnected_components_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p2", "noshadow"]

[[test]]
id = "sif_multi_relation_noshadow"
description = "Multi-relation, shadows OFF"
input = "multi_relation.sif"
golden_dir = "multi_relation_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p2", "noshadow"]

[[test]]
id = "sif_dense_clique_noshadow"
description = "Dense clique K6, shadows OFF"
input = "dense_clique.sif"
golden_dir = "dense_clique_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p2", "noshadow"]

[[test]]
id = "sif_linear_chain_noshadow"
description = "Linear chain, shadows OFF — tests degree-2 tie-breaking without shadows"
input = "linear_chain.sif"
golden_dir = "linear_chain_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "edge_case", "p2", "noshadow"]

# ---------- SIF stress (no shadows) ----------

[[test]]
id = "sif_star500_noshadow"
description = "Star-500 shadows OFF — 500 columns instead of ~1000"
input = "star-500.sif"
golden_dir = "star-500_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "stress", "p2", "noshadow"]

[[test]]
id = "sif_ba2k_noshadow"
description = "BA-2K shadows OFF — large power-law network"
input = "ba2K.sif"
golden_dir = "ba2K_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "stress", "p2", "noshadow"]

[[test]]
id = "sif_bind_human_noshadow"
description = "BINDhuman shadows OFF — largest stress test"
input = "BINDhuman.sif"
golden_dir = "BINDhuman_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "stress", "p2", "noshadow"]

# ---------- GW edge cases (no shadows) ----------

[[test]]
id = "gw_triangle_noshadow"
description = "GW triangle, shadows OFF"
input = "triangle.gw"
golden_dir = "triangle_gw_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["gw", "edge_case", "p2", "noshadow"]

[[test]]
id = "gw_directed_tri_noshadow"
description = "GW directed triangle, shadows OFF"
input = "directed_triangle.gw"
golden_dir = "directed_triangle_gw_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["gw", "edge_case", "p2", "noshadow"]

# ---------- GW stress (no shadows) ----------

[[test]]
id = "gw_rnorvegicus_noshadow"
description = "R. norvegicus PPI, shadows OFF"
input = "RNorvegicus.gw"
golden_dir = "RNorvegicus_gw_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["gw", "stress", "p2", "noshadow"]

[[test]]
id = "gw_celegans_noshadow"
description = "C. elegans PPI, shadows OFF"
input = "CElegans.gw"
golden_dir = "CElegans_gw_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["gw", "stress", "p2", "noshadow"]

[[test]]
id = "gw_yeast_noshadow"
description = "Yeast PPI, shadows OFF"
input = "yeast.gw"
golden_dir = "yeast_gw_noshadow"
layout = "default"
shadows = false
compare = ["noa", "eda", "bif"]
tags = ["gw", "stress", "p2", "noshadow"]

# ==========================================================================
#
#  PHASE 3: Link grouping variants
#
#  Tests the link grouping relayout paths (GROUP_PER_NODE_CHANGE and
#  GROUP_PER_NETWORK_CHANGE). Only applies to multi-relation networks.
#
# ==========================================================================

[[test]]
id = "sif_multi_relation_pernode"
description = "Multi-relation with PER_NODE link grouping [pp, pd, gi]"
input = "multi_relation.sif"
golden_dir = "multi_relation_pernode"
layout = "default"
shadows = true
link_groups = ["pp", "pd", "gi"]
group_mode = "per_node"
compare = ["noa", "eda", "bif"]
tags = ["sif", "grouping", "p3"]

[[test]]
id = "sif_multi_relation_pernetwork"
description = "Multi-relation with PER_NETWORK link grouping [pp, pd, gi]"
input = "multi_relation.sif"
golden_dir = "multi_relation_pernetwork"
layout = "default"
shadows = true
link_groups = ["pp", "pd", "gi"]
group_mode = "per_network"
compare = ["noa", "eda", "bif"]
tags = ["sif", "grouping", "p3"]

[[test]]
id = "gw_directed_tri_pernode"
description = "Directed triangle with PER_NODE grouping [activates, inhibits]"
input = "directed_triangle.gw"
golden_dir = "directed_triangle_gw_pernode"
layout = "default"
shadows = true
link_groups = ["activates", "inhibits"]
group_mode = "per_node"
compare = ["noa", "eda", "bif"]
tags = ["gw", "grouping", "p3"]

[[test]]
id = "gw_directed_tri_pernetwork"
description = "Directed triangle with PER_NETWORK grouping [activates, inhibits]"
input = "directed_triangle.gw"
golden_dir = "directed_triangle_gw_pernetwork"
layout = "default"
shadows = true
link_groups = ["activates", "inhibits"]
group_mode = "per_network"
compare = ["noa", "eda", "bif"]
tags = ["gw", "grouping", "p3"]

# ==========================================================================
#
#  PHASE 4: XML round-trip tests
#
#  These are derived from Phase 1 goldens. No separate golden generation
#  needed — the Rust test loads a golden .bif file, parses it with the
#  XML session reader, re-exports it, and compares byte-for-byte against
#  the same golden. Tests the io::xml read + write round-trip path.
#
#  Entries here are just metadata for the Rust test harness.
#
# ==========================================================================

[[test]]
id = "roundtrip_sif_triangle"
description = "XML round-trip: load triangle_default/output.bif → re-export"
input = "triangle_default/output.bif"
golden_dir = "triangle_default"
layout = "roundtrip"
shadows = true
compare = ["bif"]
tags = ["roundtrip", "p4"]

[[test]]
id = "roundtrip_sif_self_loop"
description = "XML round-trip: load self_loop_default/output.bif → re-export"
input = "self_loop_default/output.bif"
golden_dir = "self_loop_default"
layout = "roundtrip"
shadows = true
compare = ["bif"]
tags = ["roundtrip", "p4"]

[[test]]
id = "roundtrip_sif_isolated_nodes"
description = "XML round-trip: load isolated_nodes_default/output.bif → re-export"
input = "isolated_nodes_default/output.bif"
golden_dir = "isolated_nodes_default"
layout = "roundtrip"
shadows = true
compare = ["bif"]
tags = ["roundtrip", "p4"]

[[test]]
id = "roundtrip_sif_disconnected"
description = "XML round-trip: load disconnected_components_default/output.bif → re-export"
input = "disconnected_components_default/output.bif"
golden_dir = "disconnected_components_default"
layout = "roundtrip"
shadows = true
compare = ["bif"]
tags = ["roundtrip", "p4"]

[[test]]
id = "roundtrip_sif_multi_relation"
description = "XML round-trip: load multi_relation_default/output.bif → re-export"
input = "multi_relation_default/output.bif"
golden_dir = "multi_relation_default"
layout = "roundtrip"
shadows = true
compare = ["bif"]
tags = ["roundtrip", "p4"]

[[test]]
id = "roundtrip_sif_star500"
description = "XML round-trip: load star-500_default/output.bif → re-export"
input = "star-500_default/output.bif"
golden_dir = "star-500_default"
layout = "roundtrip"
shadows = true
compare = ["bif"]
tags = ["roundtrip", "p4"]

[[test]]
id = "roundtrip_sif_ba2k"
description = "XML round-trip: load ba2K_default/output.bif → re-export"
input = "ba2K_default/output.bif"
golden_dir = "ba2K_default"
layout = "roundtrip"
shadows = true
compare = ["bif"]
tags = ["roundtrip", "p4"]

[[test]]
id = "roundtrip_gw_triangle"
description = "XML round-trip: load triangle_gw_default/output.bif → re-export"
input = "triangle_gw_default/output.bif"
golden_dir = "triangle_gw_default"
layout = "roundtrip"
shadows = true
compare = ["bif"]
tags = ["roundtrip", "p4"]

[[test]]
id = "roundtrip_gw_directed_tri"
description = "XML round-trip: load directed_triangle_gw_default/output.bif → re-export"
input = "directed_triangle_gw_default/output.bif"
golden_dir = "directed_triangle_gw_default"
layout = "roundtrip"
shadows = true
compare = ["bif"]
tags = ["roundtrip", "p4"]

[[test]]
id = "roundtrip_gw_celegans"
description = "XML round-trip: load CElegans_gw_default/output.bif → re-export"
input = "CElegans_gw_default/output.bif"
golden_dir = "CElegans_gw_default"
layout = "roundtrip"
shadows = true
compare = ["bif"]
tags = ["roundtrip", "p4"]

# ==========================================================================
#
#  PHASE 5: NodeSimilarity layout (resort mode)
#
#  Reorders nodes by Jaccard similarity using connection vectors.
#  4 networks × 3 formats = 12 test functions
#
# ==========================================================================

[[test]]
id = "sif_triangle_similarity_resort"
description = "Triangle with NodeSimilarity resort layout"
input = "triangle.sif"
golden_dir = "triangle_similarity_resort"
layout = "similarity_resort"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "similarity", "p5"]

[[test]]
id = "sif_multi_relation_similarity_resort"
description = "Multi-relation with NodeSimilarity resort layout"
input = "multi_relation.sif"
golden_dir = "multi_relation_similarity_resort"
layout = "similarity_resort"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "similarity", "p5"]

[[test]]
id = "sif_ba2k_similarity_resort"
description = "BA-2K with NodeSimilarity resort layout"
input = "ba2K.sif"
golden_dir = "ba2K_similarity_resort"
layout = "similarity_resort"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "similarity", "stress", "p5"]

[[test]]
id = "gw_yeast_similarity_resort"
description = "Yeast PPI with NodeSimilarity resort layout"
input = "yeast.gw"
golden_dir = "yeast_gw_similarity_resort"
layout = "similarity_resort"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["gw", "layout", "similarity", "stress", "p5"]

# ==========================================================================
#
#  PHASE 5b: NodeSimilarity layout (clustered mode)
#
#  Clusters nodes by similarity matrix using Jaccard distance.
#  4 networks × 3 formats = 12 test functions
#
# ==========================================================================

[[test]]
id = "sif_triangle_similarity_clustered"
description = "Triangle with NodeSimilarity clustered layout"
input = "triangle.sif"
golden_dir = "triangle_similarity_clustered"
layout = "similarity_clustered"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "similarity", "p5"]

[[test]]
id = "sif_multi_relation_similarity_clustered"
description = "Multi-relation with NodeSimilarity clustered layout"
input = "multi_relation.sif"
golden_dir = "multi_relation_similarity_clustered"
layout = "similarity_clustered"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "similarity", "p5"]

[[test]]
id = "sif_ba2k_similarity_clustered"
description = "BA-2K with NodeSimilarity clustered layout"
input = "ba2K.sif"
golden_dir = "ba2K_similarity_clustered"
layout = "similarity_clustered"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "similarity", "stress", "p5"]

[[test]]
id = "gw_yeast_similarity_clustered"
description = "Yeast PPI with NodeSimilarity clustered layout"
input = "yeast.gw"
golden_dir = "yeast_gw_similarity_clustered"
layout = "similarity_clustered"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["gw", "layout", "similarity", "stress", "p5"]

# ==========================================================================
#
#  PHASE 6: HierDAG layout
#
#  Hierarchical DAG layout with pointUp=true and pointUp=false.
#  Requires cycle-free directed networks.
#  3 DAGs × 2 pointUp values × 3 formats = 18 test functions
#
# ==========================================================================

[[test]]
id = "sif_dag_simple_hierdag_true"
description = "5-node DAG with HierDAG layout (pointUp=true)"
input = "dag_simple.sif"
golden_dir = "dag_simple_hierdag_true"
layout = "hierdag"
shadows = true
point_up = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "hierdag", "p6"]

[[test]]
id = "sif_dag_simple_hierdag_false"
description = "5-node DAG with HierDAG layout (pointUp=false)"
input = "dag_simple.sif"
golden_dir = "dag_simple_hierdag_false"
layout = "hierdag"
shadows = true
point_up = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "hierdag", "p6"]

[[test]]
id = "sif_dag_diamond_hierdag_true"
description = "4-node diamond DAG with HierDAG layout (pointUp=true)"
input = "dag_diamond.sif"
golden_dir = "dag_diamond_hierdag_true"
layout = "hierdag"
shadows = true
point_up = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "hierdag", "p6"]

[[test]]
id = "sif_dag_diamond_hierdag_false"
description = "4-node diamond DAG with HierDAG layout (pointUp=false)"
input = "dag_diamond.sif"
golden_dir = "dag_diamond_hierdag_false"
layout = "hierdag"
shadows = true
point_up = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "hierdag", "p6"]

[[test]]
id = "sif_dag_deep_hierdag_true"
description = "8-node linear DAG with HierDAG layout (pointUp=true)"
input = "dag_deep.sif"
golden_dir = "dag_deep_hierdag_true"
layout = "hierdag"
shadows = true
point_up = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "hierdag", "p6"]

[[test]]
id = "sif_dag_deep_hierdag_false"
description = "8-node linear DAG with HierDAG layout (pointUp=false)"
input = "dag_deep.sif"
golden_dir = "dag_deep_hierdag_false"
layout = "hierdag"
shadows = true
point_up = false
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "hierdag", "p6"]

# ==========================================================================
#
#  PHASE 7: NodeCluster layout
#
#  Clusters nodes by attribute file assignment.
#  1 network × 3 formats = 3 test functions (expandable)
#
# ==========================================================================

[[test]]
id = "sif_multi_relation_node_cluster"
description = "Multi-relation with NodeCluster layout (group1/group2/group3)"
input = "multi_relation.sif"
golden_dir = "multi_relation_node_cluster"
layout = "node_cluster"
shadows = true
attribute_file = "multi_relation_clusters.na"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "cluster", "p7"]

# ==========================================================================
#
#  PHASE 8: ControlTop layout
#
#  Pins control nodes at top. Tests multiple ctrl/target mode combinations.
#  2 networks × 4 mode combos × 3 formats = 24 test functions
#
# ==========================================================================

# --- star-500: degree_only + target_degree ---

[[test]]
id = "sif_star500_controltop_degree_target"
description = "Star-500 ControlTop (degree_only, target_degree)"
input = "star-500.sif"
golden_dir = "star-500_controltop_degree_only_target_degree"
layout = "control_top"
shadows = true
control_mode = "degree_only"
target_mode = "target_degree"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "controltop", "stress", "p8"]

# --- star-500: degree_only + breadth_order ---

[[test]]
id = "sif_star500_controltop_degree_breadth"
description = "Star-500 ControlTop (degree_only, breadth_order)"
input = "star-500.sif"
golden_dir = "star-500_controltop_degree_only_breadth_order"
layout = "control_top"
shadows = true
control_mode = "degree_only"
target_mode = "breadth_order"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "controltop", "stress", "p8"]

# --- star-500: partial_order + target_degree ---

[[test]]
id = "sif_star500_controltop_partial_target"
description = "Star-500 ControlTop (partial_order, target_degree)"
input = "star-500.sif"
golden_dir = "star-500_controltop_partial_order_target_degree"
layout = "control_top"
shadows = true
control_mode = "partial_order"
target_mode = "target_degree"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "controltop", "stress", "p8"]

# --- star-500: partial_order + breadth_order ---

[[test]]
id = "sif_star500_controltop_partial_breadth"
description = "Star-500 ControlTop (partial_order, breadth_order)"
input = "star-500.sif"
golden_dir = "star-500_controltop_partial_order_breadth_order"
layout = "control_top"
shadows = true
control_mode = "partial_order"
target_mode = "breadth_order"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "controltop", "stress", "p8"]

# --- multi_relation: fixed_list [A,B] + target_degree ---

[[test]]
id = "sif_multi_relation_controltop_fixed_target"
description = "Multi-relation ControlTop (fixed_list [A,B], target_degree)"
input = "multi_relation.sif"
golden_dir = "multi_relation_controltop_fixed_list_target_degree"
layout = "control_top"
shadows = true
control_mode = "fixed_list"
control_nodes = ["A", "B"]
target_mode = "target_degree"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "controltop", "p8"]

# --- multi_relation: fixed_list [A,B] + breadth_order ---

[[test]]
id = "sif_multi_relation_controltop_fixed_breadth"
description = "Multi-relation ControlTop (fixed_list [A,B], breadth_order)"
input = "multi_relation.sif"
golden_dir = "multi_relation_controltop_fixed_list_breadth_order"
layout = "control_top"
shadows = true
control_mode = "fixed_list"
control_nodes = ["A", "B"]
target_mode = "breadth_order"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "controltop", "p8"]

# --- multi_relation: degree_only + target_degree ---

[[test]]
id = "sif_multi_relation_controltop_degree_target"
description = "Multi-relation ControlTop (degree_only, target_degree)"
input = "multi_relation.sif"
golden_dir = "multi_relation_controltop_degree_only_target_degree"
layout = "control_top"
shadows = true
control_mode = "degree_only"
target_mode = "target_degree"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "controltop", "p8"]

# --- multi_relation: degree_only + breadth_order ---

[[test]]
id = "sif_multi_relation_controltop_degree_breadth"
description = "Multi-relation ControlTop (degree_only, breadth_order)"
input = "multi_relation.sif"
golden_dir = "multi_relation_controltop_degree_only_breadth_order"
layout = "control_top"
shadows = true
control_mode = "degree_only"
target_mode = "breadth_order"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "controltop", "p8"]

# ==========================================================================
#
#  PHASE 9: SetLayout
#
#  Bipartite/set membership layout with belongs_to/contains semantics.
#  2 networks × 2 link-means modes × 3 formats = 12 test functions
#
# ==========================================================================

[[test]]
id = "sif_bipartite_set_belongs_to"
description = "Bipartite with SetLayout (belongs_to)"
input = "bipartite.sif"
golden_dir = "bipartite_set_belongs_to"
layout = "set"
shadows = true
link_means = "belongs_to"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "set", "p9"]

[[test]]
id = "sif_bipartite_set_contains"
description = "Bipartite with SetLayout (contains)"
input = "bipartite.sif"
golden_dir = "bipartite_set_contains"
layout = "set"
shadows = true
link_means = "contains"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "set", "p9"]

[[test]]
id = "sif_star500_set_belongs_to"
description = "Star-500 with SetLayout (belongs_to)"
input = "star-500.sif"
golden_dir = "star-500_set_belongs_to"
layout = "set"
shadows = true
link_means = "belongs_to"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "set", "stress", "p9"]

[[test]]
id = "sif_star500_set_contains"
description = "Star-500 with SetLayout (contains)"
input = "star-500.sif"
golden_dir = "star-500_set_contains"
layout = "set"
shadows = true
link_means = "contains"
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "set", "stress", "p9"]

# ==========================================================================
#
#  PHASE 10: WorldBank layout
#
#  Hub-spoke grouping. No special input requirements.
#  2 networks × 3 formats = 6 test functions
#
# ==========================================================================

[[test]]
id = "sif_star500_world_bank"
description = "Star-500 with WorldBank layout"
input = "star-500.sif"
golden_dir = "star-500_world_bank"
layout = "world_bank"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "world_bank", "stress", "p10"]

[[test]]
id = "sif_ba2k_world_bank"
description = "BA-2K with WorldBank layout"
input = "ba2K.sif"
golden_dir = "ba2K_world_bank"
layout = "world_bank"
shadows = true
compare = ["noa", "eda", "bif"]
tags = ["sif", "layout", "world_bank", "stress", "p10"]

# ==========================================================================
#
#  PHASE 11: Fixed-order import (NOA/EDA files)
#
#  Bypasses the layout algorithm and uses a fixed node or link ordering.
#  4 tests × 3 formats = 12 test functions
#
# ==========================================================================

[[test]]
id = "sif_triangle_fixed_noa"
description = "Triangle with fixed node order from reversed NOA"
input = "triangle.sif"
golden_dir = "triangle_fixed_noa"
layout = "fixed_node_order"
shadows = true
noa_file = "triangle_reversed.noa"
compare = ["noa", "eda", "bif"]
tags = ["sif", "fixed_order", "p11"]

[[test]]
id = "sif_multi_relation_fixed_noa"
description = "Multi-relation with fixed node order from shuffled NOA"
input = "multi_relation.sif"
golden_dir = "multi_relation_fixed_noa"
layout = "fixed_node_order"
shadows = true
noa_file = "multi_relation_shuffled.noa"
compare = ["noa", "eda", "bif"]
tags = ["sif", "fixed_order", "p11"]

[[test]]
id = "sif_ba2k_fixed_noa"
description = "BA-2K with fixed node order from reversed NOA"
input = "ba2K.sif"
golden_dir = "ba2K_fixed_noa"
layout = "fixed_node_order"
shadows = true
noa_file = "ba2K_reversed.noa"
compare = ["noa", "eda", "bif"]
tags = ["sif", "fixed_order", "stress", "p11"]

[[test]]
id = "sif_triangle_fixed_eda"
description = "Triangle with fixed link order from reversed EDA"
input = "triangle.sif"
golden_dir = "triangle_fixed_eda"
layout = "fixed_link_order"
shadows = true
eda_file = "triangle_reversed.eda"
compare = ["noa", "eda", "bif"]
tags = ["sif", "fixed_order", "p11"]

# ==========================================================================
#
#  PHASE 12: Subnetwork extraction
#
#  Extract a subset of nodes and their induced edges.
#  3 tests × 3 formats = 9 test functions
#
# ==========================================================================

[[test]]
id = "sif_triangle_extract_AB"
description = "Triangle: extract subnetwork {A, B}"
input = "triangle.sif"
golden_dir = "triangle_extract_AB"
layout = "default"
shadows = true
extract_nodes = ["A", "B"]
compare = ["noa", "eda", "bif"]
tags = ["sif", "analysis", "extraction", "p12"]

[[test]]
id = "sif_multi_relation_extract_ACE"
description = "Multi-relation: extract subnetwork {A, C, E}"
input = "multi_relation.sif"
golden_dir = "multi_relation_extract_ACE"
layout = "default"
shadows = true
extract_nodes = ["A", "C", "E"]
compare = ["noa", "eda", "bif"]
tags = ["sif", "analysis", "extraction", "p12"]

[[test]]
id = "sif_dense_clique_extract_ABC"
description = "Dense clique K6: extract subnetwork {A, B, C}"
input = "dense_clique.sif"
golden_dir = "dense_clique_extract_ABC"
layout = "default"
shadows = true
extract_nodes = ["A", "B", "C"]
compare = ["noa", "eda", "bif"]
tags = ["sif", "analysis", "extraction", "p12"]

# ==========================================================================
#
#  PHASE 13: Analysis operations (cycle detection + Jaccard)
#
#  These are simpler text/boolean output comparisons.
#  5 cycle tests + 5 Jaccard tests = 10 test functions (1 per case)
#
# ==========================================================================

[[test]]
id = "analysis_cycle_triangle"
description = "Cycle detection on triangle (undirected → depends on interpretation)"
input = "triangle.sif"
golden_dir = "analysis_cycle_triangle"
layout = "analysis_cycle"
shadows = true
compare = ["txt"]
tags = ["analysis", "cycle", "p13"]

[[test]]
id = "analysis_cycle_self_loop"
description = "Cycle detection on self-loop network"
input = "self_loop.sif"
golden_dir = "analysis_cycle_self_loop"
layout = "analysis_cycle"
shadows = true
compare = ["txt"]
tags = ["analysis", "cycle", "p13"]

[[test]]
id = "analysis_cycle_dag_simple"
description = "Cycle detection on dag_simple (no cycles)"
input = "dag_simple.sif"
golden_dir = "analysis_cycle_dag_simple"
layout = "analysis_cycle"
shadows = true
compare = ["txt"]
tags = ["analysis", "cycle", "p13"]

[[test]]
id = "analysis_cycle_linear_chain"
description = "Cycle detection on linear chain"
input = "linear_chain.sif"
golden_dir = "analysis_cycle_linear_chain"
layout = "analysis_cycle"
shadows = true
compare = ["txt"]
tags = ["analysis", "cycle", "p13"]

[[test]]
id = "analysis_cycle_disconnected"
description = "Cycle detection on disconnected components"
input = "disconnected_components.sif"
golden_dir = "analysis_cycle_disconnected"
layout = "analysis_cycle"
shadows = true
compare = ["txt"]
tags = ["analysis", "cycle", "p13"]

[[test]]
id = "analysis_jaccard_triangle_AB"
description = "Jaccard similarity of A,B in triangle"
input = "triangle.sif"
golden_dir = "analysis_jaccard_triangle_AB"
layout = "analysis_jaccard"
shadows = true
node_pair = ["A", "B"]
compare = ["txt"]
tags = ["analysis", "jaccard", "p13"]

[[test]]
id = "analysis_jaccard_triangle_AC"
description = "Jaccard similarity of A,C in triangle"
input = "triangle.sif"
golden_dir = "analysis_jaccard_triangle_AC"
layout = "analysis_jaccard"
shadows = true
node_pair = ["A", "C"]
compare = ["txt"]
tags = ["analysis", "jaccard", "p13"]

[[test]]
id = "analysis_jaccard_multi_relation_AD"
description = "Jaccard similarity of A,D in multi_relation"
input = "multi_relation.sif"
golden_dir = "analysis_jaccard_multi_relation_AD"
layout = "analysis_jaccard"
shadows = true
node_pair = ["A", "D"]
compare = ["txt"]
tags = ["analysis", "jaccard", "p13"]

[[test]]
id = "analysis_jaccard_star500_hub_leaf"
description = "Jaccard similarity of hub (0) and leaf (1) in star-500"
input = "star-500.sif"
golden_dir = "analysis_jaccard_star500_hub_leaf"
layout = "analysis_jaccard"
shadows = true
node_pair = ["0", "1"]
compare = ["txt"]
tags = ["analysis", "jaccard", "stress", "p13"]

[[test]]
id = "analysis_jaccard_dense_clique_AB"
description = "Jaccard similarity of A,B in dense clique (should be high)"
input = "dense_clique.sif"
golden_dir = "analysis_jaccard_dense_clique_AB"
layout = "analysis_jaccard"
shadows = true
node_pair = ["A", "B"]
compare = ["txt"]
tags = ["analysis", "jaccard", "p13"]

# ==========================================================================
#
#  PHASE 14: Display option permutations
#
#  BIF-only tests — display options affect colors and drain zones.
#  8 tests × 1 format = 8 test functions
#
# ==========================================================================

[[test]]
id = "sif_triangle_drain0"
description = "Triangle with minDrainZone=0 (no drain zones)"
input = "triangle.sif"
golden_dir = "triangle_drain0"
layout = "default"
shadows = true
min_drain_zone = 0
compare = ["bif"]
tags = ["sif", "display", "p14"]

[[test]]
id = "sif_triangle_drain5"
description = "Triangle with minDrainZone=5 (larger drain zones)"
input = "triangle.sif"
golden_dir = "triangle_drain5"
layout = "default"
shadows = true
min_drain_zone = 5
compare = ["bif"]
tags = ["sif", "display", "p14"]

[[test]]
id = "sif_triangle_lighter0"
description = "Triangle with nodeLighterLevel=0.0"
input = "triangle.sif"
golden_dir = "triangle_lighter0"
layout = "default"
shadows = true
node_lighter = 0.0
compare = ["bif"]
tags = ["sif", "display", "p14"]

[[test]]
id = "sif_triangle_lighter1"
description = "Triangle with nodeLighterLevel=1.0"
input = "triangle.sif"
golden_dir = "triangle_lighter1"
layout = "default"
shadows = true
node_lighter = 1.0
compare = ["bif"]
tags = ["sif", "display", "p14"]

[[test]]
id = "sif_triangle_darker0"
description = "Triangle with linkDarkerLevel=0.0"
input = "triangle.sif"
golden_dir = "triangle_darker0"
layout = "default"
shadows = true
link_darker = 0.0
compare = ["bif"]
tags = ["sif", "display", "p14"]

[[test]]
id = "sif_triangle_darker1"
description = "Triangle with linkDarkerLevel=1.0"
input = "triangle.sif"
golden_dir = "triangle_darker1"
layout = "default"
shadows = true
link_darker = 1.0
compare = ["bif"]
tags = ["sif", "display", "p14"]

[[test]]
id = "sif_multi_relation_drain0"
description = "Multi-relation with minDrainZone=0"
input = "multi_relation.sif"
golden_dir = "multi_relation_drain0"
layout = "default"
shadows = true
min_drain_zone = 0
compare = ["bif"]
tags = ["sif", "display", "p14"]

[[test]]
id = "sif_multi_relation_drain5"
description = "Multi-relation with minDrainZone=5"
input = "multi_relation.sif"
golden_dir = "multi_relation_drain5"
layout = "default"
shadows = true
min_drain_zone = 5
compare = ["bif"]
tags = ["sif", "display", "p14"]

# ==========================================================================
#
#  PHASE 15: Alignment tests
#
#  Merge two networks using an alignment file.
#  2 alignment scenarios × 3 formats = 6 test functions + scoring tests
#
# ==========================================================================

[[test]]
id = "align_perfect"
description = "Perfect alignment: align_net1 + align_net2 with 3-node mapping"
input = "align_net1.sif"
golden_dir = "align_perfect"
layout = "alignment"
shadows = true
align_net2 = "align_net2.sif"
align_file = "test_perfect.align"
compare = ["noa", "eda", "bif"]
tags = ["alignment", "p15"]

[[test]]
id = "align_partial"
description = "Partial alignment: align_net1 + align_net2 with 2-node mapping"
input = "align_net1.sif"
golden_dir = "align_partial"
layout = "alignment"
shadows = true
align_net2 = "align_net2.sif"
align_file = "test_partial.align"
compare = ["noa", "eda", "bif"]
tags = ["alignment", "p15"]
